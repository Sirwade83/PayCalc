<!DOCTYPE html> 
  
<html> 
    <head> 
        <title> 
              CommGap Pay Calculator
        </title> 
      <!-- Css solution to width problem -->
<!-- https://stackoverflow.com/questions/22709792/input-type-number-wont-resize -->

        <style>
        input[type=text]{
           width: 26px;
           } 
           
/* https://teamtreehouse.com/community/removing-dropdown-arrows-other-issues */        
           select {
    -webkit-appearance: none;
    -moz-appearance: none;
    text-indent: 1px;
    text-overflow: '';
}


select::-ms-expand {
    display: none;
}

/* End of dropdown coppy */

/* https://stackoverflow.com/questions/5126396/border-around-drop-down-list */
select {
    outline: none;
    border: none;
}
/* End Help */

        </style>

<!--Make full screen code from: -->
<!-- https://www.w3schools.com/css/css_rwd_viewport.asp -->

<!-- https://stackoverflow.com/questions/6483425/prevent-iphone-from-zooming-in-on-select-in-web-app -->

<meta name="viewport" 
content="width=device-width,
 minimum-scale=1.0, 
maximum-scale=1.0, 
user-scalable=no">


<!-- To disable Auto zoom -->
<!-- https://stackoverflow.com/questions/2989263/disable-auto-zoom-in-input-text-tag-safari-on-iphone -->
<style>
body {
  font-size: 16px;
}
input[type="text"] {
  font-size: inherit;
}
</style>

    </head>

    <body>

<!-- JavaScript to limit number of spaces able to be entered -->
<!-- https://stackoverflow.com/questions/9841363/how-to-restrict-number-of-characters-that-can-be-entered-in-html5-number-input-f -->

<script>
function limit(element)
{
    var max_chars = 2;
    if(element.value.length > max_chars) {
        element.value = element.value.substr(0, max_chars);
    }
}
</script>
    
<!-- Code example from https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_number_get -->          
<!-- Added Drop down box https://www.dummies.com/web-design-development/site-development/how-to-create-a-drop-down-list-in-an-html5-form/  -->
      
<h3>Enter your work times:</h3>

<select id = "StartHour">
   <option value = 1>1</option>
   <option value = 2>2</option>
   <option value = 3>3</option>
   <option value = 4>4</option>
   <option value = 5>5</option>
   <option value = 6>6</option>
   <option value = 7>7</option>
   <option value = 8 selected>8</option>
   <option value = 9>9</option>
   <option value = 10>10</option>
   <option value = 11>11</option>
   <option value = 12>12</option>
</select>:

<!--  <input type="text" onkeydown="limit(this);" onkeyup="limit(this);" id="StartHour"> :Old Code -->
<select id = "StartMin1">
   <option value = 0>0</option>
   <option value = 1>1</option>
   <option value = 2>2</option>
   <option value = 3>3</option>
   <option value = 4>4</option>
   <option value = 5>5</option>
   <option value = 6>6</option>
   <option value = 7>7</option>
   <option value = 8>8</option>
   <option value = 9>9</option>
</select> 

<select id = "StartMin2">
   <option value = 0>0</option>
   <option value = 1>1</option>
   <option value = 2>2</option>
   <option value = 3>3</option>
   <option value = 4>4</option>
   <option value = 5>5</option>
   <option value = 6>6</option>
   <option value = 7>7</option>
   <option value = 8>8</option>
   <option value = 9>9</option>
</select> 

<!--<input type="text" onkeydown="limit(this);" onkeyup="limit(this);" id="StartMin"> Old Code-->
     
<select id = "AMPMStart">
   <option value = 0>AM</option>
   <option value = 12>PM</option>
</select> - 

<select id = "EndHour">
   <option value = 1>1</option>
   <option value = 2>2</option>
   <option value = 3>3</option>
   <option value = 4>4</option>
   <option value = 5>5</option>
   <option value = 6>6</option>
   <option value = 7>7</option>
   <option value = 8 selected >8</option>
   <option value = 9>9</option>
   <option value = 10>10</option>
   <option value = 11>11</option>
   <option value = 12>12</option>
</select>: 

<!-- <input type="text" onkeydown="limit(this);" onkeyup="limit(this);" id="EndHour"> Old Code-->
<!-- <input type="text" onkeydown="limit(this);" onkeyup="limit(this);" id="EndMin"> Old Code -->

<select id = "EndMin1">
   <option value = "">0</option>
   <option value = 1>1</option>
   <option value = 2>2</option>
   <option value = 3>3</option>
   <option value = 4>4</option>
   <option value = 5>5</option>
   <option value = 6>6</option>
   <option value = 7>7</option>
   <option value = 8>8</option>
   <option value = 9>9</option>
</select> 

<select id = "EndMin2">
   <option value = "">0</option>
   <option value = 1>1</option>
   <option value = 2>2</option>
   <option value = 3>3</option>
   <option value = 4>4</option>
   <option value = 5>5</option>
   <option value = 6>6</option>
   <option value = 7>7</option>
   <option value = 8>8</option>
   <option value = 9>9</option>
</select> 
       
<select id = "AMPMEnd">
   <option value = 0>AM</option>
   <option value = 12>PM</option>
</select> 

<p>Click the button to calculate</p>

<button onclick="Calculate()">Calculate</button>

<!-- https://www.quackit.com/javascript/javascript_refresh_page.cfm -->
<input type="button" value="Clear Times" 
onClick="document.location.reload(true)">

<p id="Answer"></p>

      
<script>
function Calculate() {

// Old Code:
//var StartHour = +document.getElementById("StartHour").value; 
//var StartMin = +document.getElementById("StartMin").value;
//var EndHour = +document.getElementById("EndHour").value; 
//var EndMin= +document.getElementById("EndMin").value;

<!-- help with drop down getting values -->
<!-- https://stackoverflow.com/questions/1085801/get-selected-value-in-dropdown-list-  -->

var element = document.getElementById("StartHour");
var StartHour = parseInt(element.options[element.selectedIndex].value, 10);

var element = document.getElementById("EndHour");
var EndHour = parseInt(element.options[element.selectedIndex].value, 10);

var element = document.getElementById("StartMin1");
var StartMin1 = parseInt(element.options[element.selectedIndex].value, 10);
var element = document.getElementById("StartMin2");
var StartMin2 = parseInt(element.options[element.selectedIndex].value, 10);

var element = document.getElementById("EndMin1");
var EndMin1 = parseInt(element.options[element.selectedIndex].value, 10);
var element = document.getElementById("EndMin2");
var EndMin2 = parseInt(element.options[element.selectedIndex].value, 10);

var element = document.getElementById("AMPMStart");
var AMPMStart = parseInt(element.options[element.selectedIndex].value, 10);
var element = document.getElementById("AMPMEnd");
var AMPMEnd = parseInt(element.options[element.selectedIndex].value, 10);

var EndMin = 

 if ( ( ( (AMPMStart == 0) && (AMPMEnd == 12) ) || ( (AMPMStart == 12) && (AMPMEnd == 0) ) ) && EndHour != 12 ) {
       EndHour += 12;
       alert(EndHour);
   };
  
    if ( EndHour == 12 && AMPMEnd == 0 && StartHour != 12) {EndHour = 24; };
  if (EndHour == 12 && AMPMEnd == 12) { EndHour = 12; };
  
  var TotalEndMin = (EndHour * 60) + EndMin;
  var TotalStartMin = (StartHour * 60) + StartMin;
  var TotalMin = TotalEndMin - TotalStartMin
  
  var AddMin= 0;
  var AddMin= (TotalMin % 15 >= 5) ? 15 - (TotalMin % 15): (TotalMin % 15) * -1;
  TotalMin += AddMin;
  
  var TotalDollar = ((TotalMin / 60) * 18)
  if (TotalDollar > 0 && TotalDollar < 18) { TotalDollar = 18 };
  
var MorningExtra = 0;
var NightExtra = 0;

  MorningExtra =  (8 * 60) - ((StartHour * 60) + StartMin);
     
  var MorningExtraMin = (MorningExtra % 15 >= 5) ? 15 - (MorningExtra % 15): (MorningExtra % 15) * -1;
      MorningExtra += MorningExtraMin;
      MorningExtra = ((MorningExtra / 60) * 2);
      //if (MorningExtra < 0) { MorningExtra = 0 };

   NightExtra = ((EndHour * 60)+ EndMin) - (5  * 60);
  
  var NightExtraMin = (NightExtra % 15 >= 5) ? 15 - (NightExtra % 15): (NightExtra % 15) * -1;
      NightExtra += NightExtraMin;
      NightExtra = ((NightExtra / 60) * 2);
     // if (NightExtra < 0) { NightExtra = 0 };
  
 //TotalDollar = TotalDollar  + MorningExtra + NightExtra; // Add Morning and Night extra Minutes

document.getElementById("Answer").innerHTML = // (TotalDollar < 0) ? "ERROR Check the times": 
"(Regular Hours " + TotalDollar / 18  +") (Morning Hours " + MorningExtra / 2 + ") (Night Hours " + NightExtra / 2 + ")"; //-- Used To test 
//"$" + TotalDollar.toFixed(2);

}
</script>
    
    </body> 
</html> 
